# レビュー文の有用性分類システム

このプロジェクトは、SVMを用いてレビュー文を「有用」か「有用でない」かに分類する自然言語処理システムです。  
PythonとGoogle Colabを使用し、独自に設計した特徴量を用いて分類精度の向上を図りました。

#googlecolabのコードの説明
🔧 MeCab + NEologd のインストール手順（Google Colab 用）
このセルでは、日本語形態素解析器 MeCab と、高精度な拡張辞書 NEologd を Google Colab 環境にインストールしています。
⚙️ 各コマンドの役割：
1.MeCabと関連ライブラリのインストール
2.同様の依存関係を静かに再インストール（出力を非表示）
3.NEologd 辞書のクローン
4.NEologd のインストール
5.Pythonバインディングのインストール
6.設定ファイルのシンボリックリンク作成

📂 GitHub 上のデータファイルを読み込む処理
このセルでは、GitHub に保存されている日本語名の Excel ファイル（レビューやキーワードなど）を pandas で読み込みます。
📌 読み込み対象のファイル一覧：
・掃除機レビュー１００件.xlsx：実際のユーザーレビューとラベル
・商品説明文.xlsx：製品の公式説明文（特徴抽出に使用）
・キーワード（手動）.xlsx：人手で抽出した重要語句リスト
・掃除機キーワードChatgpt(一単語).xlsx：ChatGPT による自動抽出キーワード

🤖 レビュー分類のための特徴量組み合わせ評価（SVM + MeCab + キーワード）
このノートブックでは、日本語レビュー文に対してさまざまな特徴量を用いて分類精度を比較・分析します。
手動・自動キーワード + 品詞情報を組み合わせた特徴量を SVM モデルで評価します。

🧩 主な処理内容
1.ライブラリと初期化
  ・pandas, scikit-learn, MeCab などを読み込み、MeCab を -Ochasen モードで初期化。
2.GitHub からのデータ読み込み
　・レビュー文、ラベル、手動キーワード、ChatGPTキーワードの Excel ファイルを URL 経由で取得。
3.特徴量抽出関数
  ・キーワード出現数（正規表現）
　・MeCab を用いた品詞ごとの単語出現数（名詞・動詞・助詞など）
　・組み合わせに応じて動的に特徴ベクトルを構築。
4.分類モデルと評価
   ・線形カーネルの SVM を使用。
   ・10分割 Stratified K-Fold による交差検証で Precision / Recall / F1 スコアを計算。
5.特徴量の全組み合わせ評価
　　・手動キーワード と ChatGPTキーワード は同時に使用しない制約付きで全組み合わせを試行。
    ・結果を F1スコア とともに出力。

📊 特徴量の組み合わせごとの分類性能（F1スコア）を評価・比較
このセルでは、様々な特徴量の組み合わせに対して分類モデル（SVM）の性能を評価し、F1スコアが高い順に結果を表示しています。
🔧 処理の概要
・事前に定義された all_combinations（特徴量の組み合わせ）を一つずつ評価
・特徴量ベクトル X を作成し、SVM による交差検証で精度・再現率・F1スコアを計算
・結果（ラベル名とスコア3種）を results に保存
・F1スコア を基準に降順で並べ替え、最も分類効果の高い特徴量セットを上位に表示

🧪 レビュー文からキーワード・品詞を抽出して表示する関数
このコードでは、ユーザーが指定した 手動キーワードや ChatGPT が抽出したキーワードが、レビュー文に含まれているかを確認し、さらに希望する **品詞（名詞・動詞・形容詞など）**を MeCab で解析して抽出・表示します。

処理内容の概要：
・各レビューに対して：
　・キーワードの出現を正規表現で検出
　・MeCab を使ってレビューを形態素解析し、選択された品詞を抽出
　・結果を整形して表示

📊 各特徴量組み合わせにおけるモデル性能と出現頻度の評価
このコードでは、あらかじめ定義された複数の特徴量の組み合わせについて、以下の2つを評価・表示しています：
1.分類モデルの性能指標（Precision, Recall, F1スコア）
2.特徴量ごとの一文あたりの平均出現回数
処理の流れ：
・各特徴量の組み合わせごとに、レビュー文から特徴を抽出
・モデルで分類し、性能指標（精度・再現率・F1スコア）を計算
・その特徴量が一文に平均して何回出現するかを算出
・結果を見やすく表示
これにより、どの特徴量の組み合わせが最も効果的か、またそれらの **出現傾向（頻度）**を同時に分析できます。

🤖 商品説明文に基づく特徴量を使ったレビュー分類（SVM + MeCab）
このコードでは、日本語のレビュー文と商品説明文を使って、レビューがポジティブかネガティブかを分類する機械学習モデル（SVM）を構築・評価しています。

🧩 主な処理内容
1.データの読み込み
  GitHub 上の Excel ファイルからレビューと商品説明文を取得。
2.商品説明文からキーワード抽出
  MeCab を使って名詞・動詞・形容詞などの品詞ごとにキーワードを抽出。
3.レビューからの特徴量抽出
　・商品説明文とレビューのキーワード一致数（＝関連度）
　・各品詞（名詞・動詞・形容詞・副詞・助詞）の出現回数
　　→ 上記を特徴量として数値ベクトル化。
4.SVM モデルで分類・評価
  ・Stratified K-Fold 交差検証（10分割）を使用して Precision / Recall / F1 スコアを計算。
5.全特徴量の組み合わせを評価
　・一致キーワード・名詞・動詞など全ての特徴量の組み合わせを総当たりで試し、F1スコアの高い順に結果を表示。

🧪 各特徴量組み合わせの性能比較（F1スコア順）
このコードでは、レビュー文から抽出した複数の特徴量の 組み合わせごとに分類性能を評価し、その結果を F1スコアの高い順に並べて表示します。
📋 処理内容：
1.all_combinations にある各特徴量の組み合わせを1つずつ試す
2.特徴量を抽出し、SVM による分類モデルを交差検証で評価（Precision, Recall, F1）
3.結果を F1スコア で降順ソートして出力
  → 一番効果的な特徴量の組み合わせが上に表示される






