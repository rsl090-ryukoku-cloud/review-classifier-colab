# 📝 レビュー文の有用性分類システム

このプロジェクトは、SVMを用いてレビュー文を「有用」か「有用でない」かに分類する自然言語処理システムです。  
Python と Google Colab を使用し、独自に設計した特徴量を用いて分類精度の向上を図りました。

---

## 🔧 MeCab + NEologd のインストール手順（Google Colab 用）

日本語形態素解析器 **MeCab** と、高精度な拡張辞書 **NEologd** を Google Colab にインストールします。

### ⚙️ 各コマンドの役割：
1. MeCabと関連ライブラリのインストール  
2. 同様の依存関係を静かに再インストール（出力を非表示）  
3. NEologd 辞書のクローン  
4. NEologd のインストール  
5. Pythonバインディングのインストール  
6. 設定ファイルのシンボリックリンク作成  

---

## 📂 GitHub 上のデータファイルを読み込む処理

日本語名の Excel ファイル（レビューやキーワードなど）を `pandas` で読み込みます。

### 📌 読み込み対象ファイル：
- `掃除機レビュー１００件.xlsx`: 実際のユーザーレビューとラベル  
- `商品説明文.xlsx`: 製品の公式説明文（特徴抽出に使用）  
- `キーワード（手動）.xlsx`: 人手で抽出した重要語句リスト  
- `掃除機キーワードChatgpt(一単語).xlsx`: ChatGPT による自動抽出キーワード  

---

## 🤖 レビュー分類のための特徴量組み合わせ評価（SVM + MeCab + キーワード）

日本語レビュー文に対してさまざまな特徴量を用いて分類精度を比較・分析します。  
手動・自動キーワード + 品詞情報を組み合わせ、SVM モデルで評価します。

### 🧩 主な処理内容
1. **ライブラリと初期化**  
   `pandas`, `scikit-learn`, `MeCab` などを読み込み、MeCab を `-Ochasen` モードで初期化。  
2. **GitHub からのデータ読み込み**  
   レビュー文、ラベル、手動・ChatGPTキーワードの Excel ファイルを URL から取得。  
3. **特徴量抽出関数**  
   - キーワード出現数（正規表現）  
   - MeCab による品詞ごとの出現数（名詞・動詞・助詞など）  
4. **分類モデルと評価**  
   線形 SVM + Stratified K-Fold（10分割）で Precision / Recall / F1 スコアを算出。  
5. **特徴量の全組み合わせ評価**  
   `手動キーワード` と `ChatGPTキーワード` は同時に使用しない制約付きで試行。  

---

## 📊 特徴量の分類性能（F1スコア）を評価・比較

各特徴量の組み合わせごとに SVM で分類し、F1スコアの高い順に結果を表示します。

### 🔧 処理の概要：
- `all_combinations` の各組み合わせを1つずつ試行  
- 特徴ベクトル `X` を作成し、交差検証で精度を評価  
- 結果を `F1スコア` 降順に並べ替え表示  

---

## 🧪 キーワード・品詞の抽出と表示

各レビューに対して、以下を行います：

- キーワード（手動 / ChatGPT）の出現を正規表現で検出  
- MeCab で形態素解析し、希望する品詞（名詞・動詞・形容詞など）を抽出・表示  

---

## 📊 モデル性能と出現頻度の同時評価

全特徴量の組み合わせに対して：

1. 分類モデルの性能（Precision / Recall / F1スコア）を評価  
2. 一文あたりの特徴量出現回数の平均を計算  
3. 出力して比較  

---

## 🤖 商品説明文ベースのレビュー分類（SVM + MeCab）

商品説明文を使ってレビューとの関連語を抽出し、分類に活用します。

### 🧩 主な処理内容
1. GitHub からレビュー・商品説明を読み込み  
2. MeCab による商品説明文からのキーワード抽出  
3. 各レビューとのキーワード一致数や品詞出現数を特徴量化  
4. SVM モデルで分類し、10分割交差検証で評価  
5. 全組み合わせを試し、F1スコア順に結果を表示  

---

## 🧪 特徴量の分類性能を比較（F1スコア順）

各特徴量の組み合わせに対して：

- 特徴量を抽出し、SVM による交差検証で Precision / Recall / F1 を算出  
- F1 スコアでソートして、最も効果的な組み合わせを特定  
